{
    "start": {
        "name": "start",
        "image": "city-skyline-rain.png",
        "story": ["<b>Chapter I</b>",
                    "p", "Rains fall over Triste-le-Roy.", "God knows this shithole needs a wash. But the gale doesn't clean the streets.",
                    "p", "On the contrary.",
                    "p", "Sometimes it flushes the vermin out.",
                    "p", "I'm happy to be off the streets. Still, I could use the money...",
                    "p", "My office is damp and musty, but at least indoors I won't catch lead poisoning.",
                    "p", "My stomach rumbles.", "I light a cigarette, and watch the smoke dance towards the ceiling.",
                    "p", "Then someone knocks on the door.", "play_sound: ./audio/door-knock.mp3"],
        "options": [
            {
                "displayText" : "Open the door.",
                "targetCard": "start_client_enters"
            },
            {
                "displayText" : "Ask who's there.",
                "targetCard": "start_who_is_there"
            },
            {
                "displayText" : "Tell them to go away.",
                "targetCard": "start_let_me_in2"
            },
            {
                "displayText" : "Stay quiet.",
                "targetCard": "start_let_me_in1"
            }
        ]
    },
    "start_who_is_there": {
        "name": "start_who_is_there",
        "image": "office-door-closed.png",
        "story": [ "p", "\"Who's out there?\" I yell.",
                 "p", "I hear a muffled woman's voice. \"A client. Open the door, please.\""],
        "options": [
            {
                "displayText" : "Open the door.",
                "targetCard": "start_client_enters"
            },
            {
                "displayText" : "Tell them to go away.",
                "targetCard": "start_let_me_in2"
            }
        ]
    },
    "start_let_me_in1": {
        "name": "start_let_me_in1",
        "image": "office-door-closed.png",
        "story": [
            "p", "I stand very still and don't say a word.",
            "p", "A woman's voice comes from the other side of the door. \"I know you're in there. What kind of detective won't receive a client? Besides...\"",
            "p", "Her voice cracks. \"I need help. Please.\""
        ],
         "options": [
            {
                "displayText" : "Open the door.",
                "targetCard": "start_client_enters"
            }
         ]
    },
    "start_let_me_in2": {
        "name": "start_let_me_in2",
        "image": "office-door-closed.png",
        "story": [
            "p", "\"I'm busy,\" I grumble. \"Go take a powder.\"",
            "p", "By the voice, there's definitely a woman on the other side.",
            "p", "\"What kind of detective won't receive a client? Besides...\" Her voice cracks.",
            "p", "\"I need help.\""
        ],
         "options": [
            {
                "displayText" : "Open the door.",
                "targetCard": "start_client_enters"
            }
         ]
    },
    "start_client_enters": {
        "name": "start_client_enters",
        "image": "client_enters.png",
        "story": [
            "p", "I open the door, and in walks a dame.",
            "p", "Without asking permission, she slides a chair and sits down. Her hose swishes as she crosses her legs.",
            "p", "I sit across her.",
            "p", "\"Detective, I need your help.\""
        ],
         "options": [
            {
                "displayText" : "Tell her to go on.",
                "targetCard": "start_client_talks1",
                "precondition": "state.start.question_what_happened == false",
                "postconditions": [
                    "state.start.question_what_happened = true",
                    "inventory.push('letter-marcel')"
                ]
            },
            {
                "displayText" : "Ask how she got my name.",
                "targetCard": "start_client_talks2",
                "precondition": "state.start.question_how_you_found_me == false",
                "postcondition": "state.start.question_how_you_found_me = true"
            }
         ]
    },
    "start_client_talks1": {
        "name": "start_client_talks1",
        "image": "client-sitting.png",
        "story": [
            "p", "I tell her to go on.",
            "p", "She takes a deep breath. \"It's my brother. He's missing.\"",
            "p", "\"He lives abroad\", she continues, \"but he's in Triste-le-Roy for a conference of sorts. At least that's what he said.\"",
            "p", "\"Here, take his letter.\" She produces a crumpled piece of paper from her purse and pushes it across the desk. \"He said we were to meet at the City Park, where we used to play as kids.\"",
            "p", "\"That was meant to have happened three days ago. He never showed up.\""
        ],
         "options": [
            {
                "displayText" : "Read the letter.",
                "targetCard": "start_client_letter1",
                "precondition": "state.start.read_letter == false",
                "postconditions": [
                    "state.start.read_letter = true",
                    "showObject('letter-marcel')"
                ]
            }
        ]
    },
    "start_client_letter1" : {
        "name": "start_client_letter1",
        "image": "client-sitting.png",
        "story": [
            "p", "I read the letter. It seems to confirm her story.",
            "p", "I slip it in my pocket. It may come handy later."
        ],
         "options": [
            {
                "displayText" : "Ask if she tried the police.",
                "targetCard": "start_client_talks3",
                "precondition": "state.start.question_call_police == false",
                "postcondition": "state.start.question_call_police = true"
            },
            {
                "displayText" : "Ask how she got my name.",
                "targetCard": "start_client_talks2",
                "precondition": "state.start.question_how_you_found_me == false",
                "postcondition": "state.start.question_how_you_found_me = true"
            },
            {
                "displayText" : "Take the case.",
                "targetCard": "start_client_talks5",
                "precondition": "state.start.question_what_happened == true"
            }
         ]        
    },
    "start_client_talks2": {
        "name": "start_client_talks2",
        "image": "client-sitting.png",
        "story": [
            "p", "I ask her, \"How did you find me? I'm not exactly famous.\" That was an understatement.",
            "p", "\"I asked around\", she says, \"I know people who know people. I needed someone competent, but discreet.\"",
            "p", "A faint smile curves the corners of her lips. \"And affordable.\"",
            "p", "\"But moreover, someone who won't involve the authorities.\""
        ],
         "options": [
            {
                "displayText" : "Ask her what happened.",
                "targetCard": "start_client_talks1",
                "precondition": "state.start.question_what_happened == false",
                "postconditions": [
                    "state.start.question_what_happened = true",
                    "inventory.push('letter-marcel')"
                ]
            },
            {
                "displayText" : "Ask why not call the police.",
                "targetCard": "start_client_talks4",
                "precondition": "state.start.question_call_police == false",
                "postcondition": "state.start.question_call_police = true"
            },
            {
                "displayText" : "Take the case.",
                "targetCard": "start_client_talks5",
                "precondition": "state.start.question_what_happened == true"
            }
     ]
    },
    "start_client_talks3": {
        "name": "start_client_talks3",
        "image": "client-sitting.png",
        "story": [
            "p", "\"Have you tried the buttons, honey?\" I blurt out. \"Old hammer and saws.\"",
            "p", "She reclines on her seat with an impish smile. \"I dabble in certain... activities that aren't entirely approved by the cops. I won't say more.\"",
            "p", "\"But still, I deserve justice.\" Her gaze is fierce. \"And I will have it, one way or another."
        ],
         "options": [
                {
                    "displayText" : "Ask her what happened.",
                    "targetCard": "start_client_talks1",
                    "precondition": "state.start.question_what_happened == false",
                    "postconditions": [
                        "state.start.question_what_happened = true",
                        "inventory.push('letter-marcel')"
                    ]
                    },
                {
                    "displayText" : "Ask how she got my name.",
                    "targetCard": "start_client_talks2",
                    "precondition": "state.start.question_how_you_found_me == false",
                    "postcondition": "state.start.question_how_you_found_me = false"
                },
                {
                    "displayText" : "Take the case.",
                    "targetCard": "start_client_talks5",
                    "precondition": "state.start.question_what_happened == true"
                }
    ]
    },
    "start_client_talks4": {
        "name": "start_client_talks4",
        "image": "client-sitting.png",
        "story": [
            "p", "\"Why not call the buttons, honey?\" I blurt out. \"Old hammer and saws. They're mostly daft, but you need no Sherlock.\"",
            "p", "She reclines in her seat with an impish grin. \"Let's say I dabble in certain... activities that aren't entirely approved by the cops. I won't say more.\"",
            "p", "\"But still, I deserve justice.\" Her gaze is fierce. \"And I will have it, one way or another."
        ],
         "options": [
            {
                "displayText" : "Ask her what happened.",
                "targetCard": "start_client_talks1",
                "precondition": "state.start.question_what_happened == false",
                "postconditions": [
                    "state.start.question_what_happened = true",
                    "inventory.push('letter-marcel')"
                ]
            },
            {
                "displayText" : "Take the case.",
                "targetCard": "start_client_talks5",
                "precondition": "state.start.question_what_happened == true"
            }
     ]
    },
    "start_client_talks5": {
        "name": "start_client_talks5",
        "image": "client-sitting.png",
        "story": [
            "p", "I rise and walk up to the window, taking a final puff at my cigarette.",
            "p", "\"I may be able to help you, babe. Since you seem to know so much, do you know my fee?\""
        ],
         "options": [
            {
                "displayText" : "Go on.",
                "targetCard": "start_client_talks5"
            }
         ]
    }
}